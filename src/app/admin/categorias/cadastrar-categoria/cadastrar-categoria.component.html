<div class="page-header smaller" data-parallax="true" style="background-image: url('../../assets/img/estoque.jpg');">
  <div class="filter"></div>
  <div class="container small-header">
    <div class="motto text-center">
      <h2>Cadastrar Categoria</h2>
    </div>
  </div>
</div>
<div class="section produtos-section">
  <div class="container">
    <div class="row">


      <div class="col-md-12 mr-auto ml-auto">
        <form [formGroup]="cadastrarCategoriaForm" (submit)="cadastrarCategoria()">

          <div class="row">

            <div class="col-md-4">
              <div class="row">

                <div class="col-md-12">
                  <h6>Nome</h6>
                  <div class="input-group">
                    <span class="input-group-addon">
                      <i class="nc-icon nc-box-2"></i>
                    </span>
                    <input formControlName="nome" type="text" class="form-control" placeholder="Nome">
                  </div>
                  <br>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <h6>Descrição</h6>
                  <textarea formControlName="descricao" class="form-control" rows="4" placeholder="Breve descrição da categoria..."></textarea>
                  <br>
                </div>
              </div>

              <div class="row">
                <div class="col-md-12 mr-auto ml-auto">
                  <button type="submit" *ngIf="!isEditing" [disabled]="!cadastrarCategoriaForm.valid" class="btn btn-success btn-lg btn-fill fill">Cadastrar</button>
                  <button type="submit" *ngIf="isEditing" [disabled]="!cadastrarCategoriaForm.valid" class="btn btn-success btn-lg btn-fill fill">Editar</button>
                </div>
              </div>
            </div>

            <div class="col-md-8">
              <div class="row">

                <div class="col-md-12 mr-auto ml-auto">

                  <div class="row" [formGroup]="pesquisarForm">
                    <div class="col-md-6">

                    </div>
                    <div class="col-md-10">
                      <div class="input-group">
                        <span class="input-group-addon">
                          <i class="nc-icon nc-zoom-split"></i>
                        </span>
                        <input formControlName="pesquisar" type="text" class="form-control" placeholder="Digite o nome da categoria...">
                      </div>

                    </div>
                    <div class="col-md-2">
                      <button (click)="pesquisarCategoria()" type="button" class="btn btn-success btn-md btn-fill fill">
                        <i class="fas fa-search"></i>
                      </button>
                    </div>
                  </div>
                  <br>

                  <div class="row">
                    <div class="col-md-12">

                      <table class="table">
                        <thead>
                          <tr>
                            <th class="text-center">#</th>
                            <th>Nome</th>
                            <th>Descrição</th>

                          </tr>
                        </thead>
                        <tbody>
                          <!---->
                          <tr *ngFor="let c of categorias; let i = index" class="ng-star-inserted">
                            <td class="text-center">{{i+1}}</td>
                            <td>{{c.nome}}</td>
                            <td>{{c.descricao}}</td>

                            <td class="td-actions text-right">
                              <button class="btn btn-info btn-link btn-sm" (click)="carregarCategoriaEdicao(c)" ngbtooltip="View Profile" type="button">
                                <i class="fa fa-edit"></i></button>

                              <button (click)="removerCategoria(c)" class="btn btn-danger btn-link btn-sm" ngbtooltip="Remove" type="button">
                                <i class="fa fa-times"></i>
                              </button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>